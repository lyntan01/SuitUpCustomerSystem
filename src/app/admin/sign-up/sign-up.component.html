<p-toast></p-toast>
<p-confirmDialog
  [style]="{ width: '50vw' }"
  [baseZIndex]="10000"
  rejectButtonStyleClass="p-button-text"
></p-confirmDialog>

<div
  *ngIf="sessionService.getIsLogin() == false && !registered"
  class="signup-container"
>
  <div style="height: 7vh"></div>
  <div class="p-fluid">
    <p-card
      [style]="{
        width: '30rem',
        padding: '0 2em 0em',
        margin: '0em auto'
      }"
    >
      <ng-template pTemplate="header">
        <br />
        <h2 class="clear-margin">Sign Up</h2>
      </ng-template>

      <form
        #createCustomerForm="ngForm"
        (ngSubmit)="customerRegister(createCustomerForm)"
      >
        <div class="p-fluid">
          <div>
            <span class="p-float-label signup-input">
              <input
                type="email"
                id="email"
                pInputText
                [(ngModel)]="newCustomer.email"
                name="email"
                required="true"
                maxlength="256"
              />
              <label for="email">Email</label>
            </span>
          </div>

          <div>
            <span class="p-float-label signup-input">
              <p-password
                id="password"
                name="password"
                [(ngModel)]="newCustomer.password"
                required="true"
                [toggleMask]="true"
              ></p-password>
              <label for="password">Password</label>
            </span>
          </div>

          <div>
            <span class="p-float-label signup-input">
              <input
                type="text"
                id="firstName"
                pInputText
                [(ngModel)]="newCustomer.firstName"
                name="firstName"
                required="true"
                maxlength="32"
              />
              <label for="firstName">First Name</label>
            </span>
          </div>

          <div>
            <span class="p-float-label signup-input">
              <input
                type="text"
                id="lastName"
                pInputText
                [(ngModel)]="newCustomer.lastName"
                name="lastName"
                required="true"
                maxlength="32"
              />
              <label for="lastName">Last Name</label>
            </span>
          </div>

          <div>
            <span class="p-float-label signup-input">
              <input
                type="contactNumber"
                id="contactNumber"
                pInputText
                [(ngModel)]="newCustomer.contactNumber"
                name="contactNumber"
                required="true"
                maxlength="10"
              />
              <label for="contactNumber">Contact Number</label>
            </span>
          </div>
        </div>

        <div>
          <div class="p-field default-button signup-input">
            <span>
              <p-button label="Clear" (onClick)="clear()"></p-button>
            </span>
          </div>

          <div class="p-field default-button">
            <span>
              <p-button label="Sign Up" type="submit"></p-button>
            </span>
          </div>
        </div>
      </form>
    </p-card>
  </div>
</div>

<div
  *ngIf="sessionService.getIsLogin() == false && registered"
  class="signup-container"
>
  <div style="height: 30vh"></div>
  <p-card
    [style]="{
      width: '25rem',
      padding: '0 2em 1em',
      margin: '0em auto'
    }"
  >
    <p>You have successfully signed up!</p>
    <ng-template pTemplate="footer" [style]="{ margin: '1rem 0' }">
      <p-button
        class="default-button"
        label="Proceed to login"
        icon="pi pi-sign-in"
        routerLink="/login"
      ></p-button>
    </ng-template>
  </p-card>
</div>
